{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./login.css\";import{useState,useEffect}from\"react\";import React from'react';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),UsersCredentials=_useState2[0],setUsersCredentials=_useState2[1];// Fetch users email and password from dummy server\nuseEffect(function(){var getUsersCredentials=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var serverUsersCredentials;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchUsersCrendentials();case 2:serverUsersCredentials=_context.sent;setUsersCredentials(serverUsersCredentials);// console.log(UsersCredentials)\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return function getUsersCredentials(){return _ref.apply(this,arguments);};}();getUsersCredentials();},[]);var fetchUsersCrendentials=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://jsonplaceholder.typicode.com/users\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchUsersCrendentials(){return _ref2.apply(this,arguments);};}();var history=useHistory();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userMail=_useState4[0],setUserMail=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userPassword=_useState6[0],setUserPassword=_useState6[1];var handleUserMailInput=function handleUserMailInput(e){setUserMail(e.target.value);};var handleUserPasswordInput=function handleUserPasswordInput(e){setUserPassword(e.target.value);};var loginChecker=function loginChecker(){// Perform check on user's input email & password\nvar userCredentialsEmail=[];var userCredentialsPassword=[];userCredentialsEmail=UsersCredentials.map(function(userObj){return userObj.email;});userCredentialsPassword=UsersCredentials.map(function(userObj){return userObj.address.street;});if(userCredentialsEmail.includes(userMail)){if(userCredentialsPassword.includes(userPassword)){// Success then route to homepage\nvar path=\"/home\";history.push(path);}else{window.alert(\"wrong password!\");setUserPassword(\"\");}}else{window.alert(\"wrong username or password!\");setUserMail(\"\");setUserPassword(\"\");}};var registerHandler=function registerHandler(){// currently just use login as register, will implement it when I setup server\nloginChecker();};return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginLeft\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"loginLogo\",children:\"Social Appie\"}),/*#__PURE__*/_jsx(\"span\",{className:\"loginDesc\",children:\"Please sign in or sign up.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loginRight\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginBox\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input1 \",type:\"email\",value:userMail,onChange:handleUserMailInput,placeholder:\"Email address\",className:\"loginInput\"}),/*#__PURE__*/_jsx(\"input\",{id:\"input2\",type:\"Password\",value:userPassword,onChange:handleUserPasswordInput,placeholder:\"Password\",className:\"loginInput\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginBtn\",onClick:loginChecker,children:\"Log in\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginRegisterBtn\",onClick:registerHandler,children:\"Sign up?\"})]})]})});};export default Login;","map":{"version":3,"sources":["/Users/mikey/social-app/src/pages/login/Login.js"],"names":["useState","useEffect","React","useHistory","Login","UsersCredentials","setUsersCredentials","getUsersCredentials","fetchUsersCrendentials","serverUsersCredentials","fetch","res","json","data","history","userMail","setUserMail","userPassword","setUserPassword","handleUserMailInput","e","target","value","handleUserPasswordInput","loginChecker","userCredentialsEmail","userCredentialsPassword","map","userObj","email","address","street","includes","path","push","window","alert","registerHandler"],"mappings":"uaAAA,MAAO,aAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChB,cAAgDJ,QAAQ,CAAC,EAAD,CAAxD,wCAAOK,gBAAP,eAAyBC,mBAAzB,eACA;AACAL,SAAS,CAAC,UAAM,CACZ,GAAMM,CAAAA,mBAAmB,0FAAG,oLACaC,CAAAA,sBAAsB,EADnC,QAClBC,sBADkB,eAExBH,mBAAmB,CAACG,sBAAD,CAAnB,CACA;AAHwB,sDAAH,kBAAnBF,CAAAA,mBAAmB,0CAAzB,CAKAA,mBAAmB,GACtB,CAPQ,CAON,EAPM,CAAT,CAQA,GAAMC,CAAAA,sBAAsB,2FAAG,4KACTE,CAAAA,KAAK,CAAC,4CAAD,CADI,QACrBC,GADqB,uCAERA,CAAAA,GAAG,CAACC,IAAJ,EAFQ,QAErBC,IAFqB,iDAGpBA,IAHoB,0DAAH,kBAAtBL,CAAAA,sBAAsB,2CAA5B,CAOA,GAAMM,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CACA,eAAgCH,QAAQ,CAAC,EAAD,CAAxC,yCAAOe,QAAP,eAAiBC,WAAjB,eACA,eAAwChB,QAAQ,CAAC,EAAD,CAAhD,yCAAOiB,YAAP,eAAqBC,eAArB,eAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAO,CAC/BJ,WAAW,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACH,CAFD,CAGA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACH,CAAD,CAAO,CACnCF,eAAe,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,CACH,CAFD,CAGA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB;AACA,GAAIC,CAAAA,oBAAoB,CAAG,EAA3B,CACA,GAAIC,CAAAA,uBAAuB,CAAG,EAA9B,CACAD,oBAAoB,CAAGpB,gBAAgB,CAACsB,GAAjB,CAAsB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,KAAZ,EAA7B,CAAvB,CACAH,uBAAuB,CAAGrB,gBAAgB,CAACsB,GAAjB,CAAsB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACE,OAAR,CAAgBC,MAApB,EAA7B,CAA1B,CACA,GAAIN,oBAAoB,CAACO,QAArB,CAA8BjB,QAA9B,CAAJ,CAA4C,CACxC,GAAGW,uBAAuB,CAACM,QAAxB,CAAiCf,YAAjC,CAAH,CAAkD,CAC9C;AACA,GAAIgB,CAAAA,IAAI,CAAG,OAAX,CACAnB,OAAO,CAACoB,IAAR,CAAaD,IAAb,EACH,CAJD,IAKI,CACAE,MAAM,CAACC,KAAP,CAAa,iBAAb,EACAlB,eAAe,CAAC,EAAD,CAAf,CACH,CAEJ,CAXD,IAYI,CACAiB,MAAM,CAACC,KAAP,CAAa,6BAAb,EACApB,WAAW,CAAC,EAAD,CAAX,CACAE,eAAe,CAAC,EAAD,CAAf,CACH,CAKJ,CA3BD,CA6BA,GAAMmB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B;AACAb,YAAY,GAEf,CAJD,CAMA,mBACI,YAAK,SAAS,CAAC,OAAf,uBACI,aAAK,SAAS,CAAC,cAAf,wBAEI,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,WAAd,0BADJ,cAEI,aAAM,SAAS,CAAC,WAAhB,wCAFJ,GAFJ,cAQI,YAAK,SAAS,CAAC,YAAf,EARJ,cASQ,aAAK,SAAS,CAAC,UAAf,wBACI,cAAO,EAAE,CAAC,SAAV,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAET,QAAvC,CAAiD,QAAQ,CAAEI,mBAA3D,CAAgF,WAAW,CAAC,eAA5F,CAA4G,SAAS,CAAC,YAAtH,EADJ,cAEI,cAAO,EAAE,CAAC,QAAV,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAEF,YAA1C,CAAwD,QAAQ,CAAEM,uBAAlE,CAA2F,WAAW,CAAC,UAAvG,CAAkH,SAAS,CAAC,YAA5H,EAFJ,cAGI,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAEC,YAAtC,oBAHJ,cAII,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAEa,eAA9C,sBAJJ,GATR,GADJ,EADJ,CAoBH,CAnFD,CAqFA,cAAejC,CAAAA,KAAf","sourcesContent":["import \"./login.css\"\nimport { useState, useEffect } from \"react\"\nimport React from 'react'\nimport { useHistory } from \"react-router-dom\"\n\n\nconst Login = () => {\n    const [UsersCredentials, setUsersCredentials] = useState([])\n    // Fetch users email and password from dummy server\n    useEffect(() => {\n        const getUsersCredentials = async () => {\n            const serverUsersCredentials = await fetchUsersCrendentials()\n            setUsersCredentials(serverUsersCredentials)\n            // console.log(UsersCredentials)\n        }\n        getUsersCredentials()\n    }, [])\n    const fetchUsersCrendentials = async() => {\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/users\")\n        const data = await res.json()\n        return data\n    }\n\n\n    const history = useHistory()\n    const [userMail, setUserMail] = useState([])\n    const [userPassword, setUserPassword] = useState([])\n\n    const handleUserMailInput = (e) => {\n        setUserMail(e.target.value)\n    }\n    const handleUserPasswordInput = (e) => {\n        setUserPassword(e.target.value)\n    }\n    const loginChecker = () => {\n        // Perform check on user's input email & password\n        let userCredentialsEmail = []\n        let userCredentialsPassword = []\n        userCredentialsEmail = UsersCredentials.map( userObj => userObj.email )\n        userCredentialsPassword = UsersCredentials.map( userObj => userObj.address.street )\n        if (userCredentialsEmail.includes(userMail)){\n            if(userCredentialsPassword.includes(userPassword)){\n                // Success then route to homepage\n                let path = \"/home\"\n                history.push(path)\n            }\n            else{\n                window.alert(\"wrong password!\")\n                setUserPassword(\"\")\n            }\n\n        }\n        else{\n            window.alert(\"wrong username or password!\")\n            setUserMail(\"\")\n            setUserPassword(\"\")\n        }\n        \n        \n        \n\n    }\n\n    const registerHandler = () => {\n        // currently just use login as register, will implement it when I setup server\n        loginChecker()\n\n    }\n    \n    return (\n        <div className=\"login\">\n            <div className=\"loginWrapper\">\n\n                <div className=\"loginLeft\">\n                    <h3 className=\"loginLogo\">Social Appie</h3>\n                    <span className=\"loginDesc\">Please sign in or sign up.</span>\n                    \n                </div>\n                    \n                <div className=\"loginRight\"></div>\n                    <div className=\"loginBox\">\n                        <input id=\"input1 \"type=\"email\" value={userMail} onChange={handleUserMailInput} placeholder=\"Email address\" className=\"loginInput\"/>\n                        <input id=\"input2\" type=\"Password\" value={userPassword} onChange={handleUserPasswordInput} placeholder=\"Password\" className=\"loginInput\"/>\n                        <button className=\"loginBtn\" onClick={loginChecker}>Log in</button>\n                        <button className=\"loginRegisterBtn\" onClick={registerHandler}>Sign up?</button>\n                    </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}