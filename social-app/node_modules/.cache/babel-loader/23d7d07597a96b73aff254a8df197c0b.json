{"ast":null,"code":"var _jsxFileName = \"/Users/mikey/social-app/src/pages/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./home.css\";\nimport Feed from '../../components/feed/Feed';\nimport Rightbar from '../../components/rightbar/Rightbar';\nimport Sidebar from '../../components/sidebar/Sidebar';\nimport Topbar from '../../components/topbar/Topbar';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const tempArrForInitialState = new Array(20);\n  const [friendsArr, setFriends] = useState(tempArrForInitialState); // Fetch users from dummy server\n\n  useEffect(() => {\n    const getFriends = async () => {\n      let serverFriends = await fetchFriends();\n\n      if (localStorage.getItem(\"friends\")) {\n        console.log(localStorage);\n        let updatedFriends = localStorage.getItem(\"friends\").split(',');\n        updatedFriends = updatedFriends.map(n => parseInt(n));\n        serverFriends = serverFriends.filter(f => updatedFriends.includes(f.id));\n        console.log(serverFriends.length);\n      }\n\n      setFriends(serverFriends);\n      let friendsIdList = friendsArr.map(f => f.id);\n      console.log(friendsIdList);\n      localStorage.setItem(\"friends\", friendsIdList);\n    };\n\n    getFriends();\n  }, []);\n\n  const fetchFriends = async () => {\n    const res = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n    const data = await res.json();\n    return data;\n  };\n\n  const deleteFriendFromList = e => {\n    let temp = friendsArr.filter(friend => friend.id != e.currentTarget.name);\n    console.log(`I'm at Home.js deleting friend ${e.currentTarget.name}!`); // Update friends at localStorage\n\n    let temp2 = friendsArr.map(friend => friend.id);\n    console.log(temp2);\n    temp2 = temp2.filter(f => f != e.currentTarget.name);\n    console.log(temp2);\n    localStorage.setItem(\"friends\", temp2);\n    console.log(localStorage);\n    setFriends(temp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Topbar, {\n      currUser: props.currUser,\n      updateCurrUser: props.updateCurrUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        currUser: props.currUser,\n        friends: friendsArr,\n        deleteFriendFromList: deleteFriendFromList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Feed, {\n        currUser: props.currUser,\n        friends: friendsArr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Rightbar, {\n        currUser: props.currUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"Li3fY3RFxIYu1qRqQkTIFLLvQJQ=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/mikey/social-app/src/pages/home/Home.js"],"names":["React","Feed","Rightbar","Sidebar","Topbar","useEffect","useState","Home","props","tempArrForInitialState","Array","friendsArr","setFriends","getFriends","serverFriends","fetchFriends","localStorage","getItem","console","log","updatedFriends","split","map","n","parseInt","filter","f","includes","id","length","friendsIdList","setItem","res","fetch","data","json","deleteFriendFromList","e","temp","friend","currentTarget","name","temp2","currUser","updateCurrUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport \"./home.css\"\nimport Feed from '../../components/feed/Feed'\nimport Rightbar from '../../components/rightbar/Rightbar'\nimport Sidebar from '../../components/sidebar/Sidebar'\nimport Topbar from '../../components/topbar/Topbar'\nimport { useEffect } from 'react'\nimport { useState } from 'react'\n\nconst Home = (props) => {\n\n    const tempArrForInitialState = new Array(20)\n    const [friendsArr, setFriends] = useState(tempArrForInitialState)\n    // Fetch users from dummy server\n    useEffect(() => {\n        const getFriends = async () => {\n            let serverFriends = await fetchFriends()\n            if(localStorage.getItem(\"friends\")){\n                console.log(localStorage)\n                let updatedFriends = localStorage.getItem(\"friends\").split(',')\n                updatedFriends = updatedFriends.map((n)=>(parseInt(n)))\n                serverFriends = serverFriends.filter(f => updatedFriends.includes(f.id))\n                console.log(serverFriends.length)\n            }\n            setFriends(serverFriends)\n\n            let friendsIdList = friendsArr.map((f)=>(f.id))\n            console.log(friendsIdList)\n            localStorage.setItem(\"friends\", friendsIdList)\n        }\n        getFriends()\n    }, [])\n    const fetchFriends = async() => {\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/users\")\n        const data = await res.json()\n        return data\n    }\n\n    const deleteFriendFromList = (e) => {\n        let temp = friendsArr.filter( (friend) => friend.id != e.currentTarget.name)\n        console.log(`I'm at Home.js deleting friend ${e.currentTarget.name}!`)\n        \n        // Update friends at localStorage\n        let temp2 = friendsArr.map((friend)=>(friend.id))\n        console.log(temp2)\n        temp2 = temp2.filter((f) => f != e.currentTarget.name)\n        console.log(temp2)\n        localStorage.setItem(\"friends\", temp2)\n        console.log(localStorage)\n        setFriends(temp)\n    }\n\n    return (\n        <>\n            <Topbar currUser={props.currUser} updateCurrUser={props.updateCurrUser}/>\n            <div className=\"homeContainer\">\n                <Sidebar currUser={props.currUser} friends={friendsArr} deleteFriendFromList={deleteFriendFromList}/>\n                <Feed currUser={props.currUser} friends={friendsArr}/>\n                <Rightbar currUser={props.currUser}/>\n            </div>\n        </>\n    )\n}\nexport default Home\n"]},"metadata":{},"sourceType":"module"}