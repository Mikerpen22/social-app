{"ast":null,"code":"import _toConsumableArray from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mikey/social-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import\"./common.css\";import{Photo}from\"@material-ui/icons\";import{Backspace}from'@material-ui/icons';import{Publish}from'@material-ui/icons';import{IconButton}from'@material-ui/core';import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Common=function Common(_ref){var posts=_ref.posts,addToPosts=_ref.addToPosts;var userStatusStr=\"\";if(localStorage.getItem(\"userStatus\")){userStatusStr=localStorage.getItem(\"userStatus\");}var _useState=useState([\"\"]),_useState2=_slicedToArray(_useState,2),postText=_useState2[0],setPostText=_useState2[1];var _useState3=useState(userStatusStr),_useState4=_slicedToArray(_useState3,2),userStatus=_useState4[0],setUserStatus=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),tempUserStatus=_useState6[0],setTempUserStatus=_useState6[1];var handleUserInput=function handleUserInput(e){setPostText(e.target.value);};var clearUserInput=function clearUserInput(){setPostText(\"\");};var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),usersArr=_useState8[0],setUsers=_useState8[1];// Fetch users from dummy server\nuseEffect(function(){var getUsers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var serverUsers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchUsers();case 2:serverUsers=_context.sent;setUsers(serverUsers);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUsers(){return _ref2.apply(this,arguments);};}();getUsers();},[]);var fetchUsers=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://jsonplaceholder.typicode.com/users\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchUsers(){return _ref3.apply(this,arguments);};}();var updateUserStatusInput=function updateUserStatusInput(e){setTempUserStatus(e.target.value);};var updateStatusFromInput=function updateStatusFromInput(e){setUserStatus(tempUserStatus);localStorage.setItem(\"userStatus\",tempUserStatus);setTempUserStatus(\"\");};var collectInput=function collectInput(){var postToBeAdded={// userId: 1  ,\nid:110,// title: '1'   ,\nbody:postText};var modified=posts;addToPosts([].concat(_toConsumableArray(modified),[postToBeAdded]));setPostText(\"\");};return/*#__PURE__*/_jsx(\"div\",{className:\"common\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"commonWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"commonTop\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"commonProfilePicture\",src:\"/assets/profile_pic_1.jpg\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:usersArr[0]&&usersArr!==[]?usersArr[0].company.catchPhrase:\"hi\",type:\"text\",value:tempUserStatus,className:\"commonInput\",onChange:updateUserStatusInput}),/*#__PURE__*/_jsx(\"span\",{className:\"commonUserStatus\",children:userStatus}),/*#__PURE__*/_jsx(\"input\",{className:\"statusUpdateBtn\",type:\"button\",value:\"Update Status\",onClick:updateStatusFromInput})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"commonHr\"}),/*#__PURE__*/_jsx(\"div\",{className:\"commonBottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"commonOptions\",children:[/*#__PURE__*/_jsx(Photo,{htmlColor:\"#26a7de\",className:\"commonIcon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"commonOptionText\",children:\"Add Photo?\"}),/*#__PURE__*/_jsx(\"input\",{className:\"commonAddImage\",type:\"file\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"commonNewPost\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"commonNewText\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"commonNewTextInput\",type:\"text\",id:\"userTextInput\",value:postText,onChange:handleUserInput}),/*#__PURE__*/_jsxs(\"div\",{className:\"commonPostButtons\",children:[/*#__PURE__*/_jsx(IconButton,{onClick:collectInput,children:/*#__PURE__*/_jsx(Publish,{className:\"commonNewTextSubmitButton\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"commonNewTextSubmitButtonDesc\",children:\"Post\"}),/*#__PURE__*/_jsx(IconButton,{onClick:clearUserInput,children:/*#__PURE__*/_jsx(Backspace,{className:\"commonNewTextDeleteButton\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"commonNewTextDeleteButtonDesc\",children:\"Clear\"})]})]})})]})});};export default Common;","map":{"version":3,"sources":["/Users/mikey/social-app/src/components/common/Common.js"],"names":["React","Photo","Backspace","Publish","IconButton","useState","useEffect","Common","posts","addToPosts","userStatusStr","localStorage","getItem","postText","setPostText","userStatus","setUserStatus","tempUserStatus","setTempUserStatus","handleUserInput","e","target","value","clearUserInput","usersArr","setUsers","getUsers","fetchUsers","serverUsers","fetch","res","json","data","updateUserStatusInput","updateStatusFromInput","setItem","collectInput","postToBeAdded","id","body","modified","company","catchPhrase"],"mappings":"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","sourcesContent":["import React from 'react'\nimport \"./common.css\"\nimport { Photo } from \"@material-ui/icons\"\nimport { Backspace } from '@material-ui/icons'\nimport { Publish } from '@material-ui/icons'\nimport { IconButton } from '@material-ui/core'\nimport { useState, useEffect } from \"react\"\n\n\nconst Common = ({posts, addToPosts}) => {\n    let userStatusStr = \"\";\n    if (localStorage.getItem(\"userStatus\")){\n        userStatusStr = localStorage.getItem(\"userStatus\");\n    }\n\n    const [postText, setPostText] = useState([\"\"])\n    const [userStatus, setUserStatus] = useState(userStatusStr)\n    const [tempUserStatus, setTempUserStatus] = useState(\"\")\n\n    const handleUserInput = (e) => {\n        setPostText(e.target.value)\n    }\n\n    const clearUserInput = () => {\n        setPostText(\"\")\n    }\n\n    const [usersArr, setUsers] = useState([])\n\n    // Fetch users from dummy server\n    useEffect(() => {\n        const getUsers = async () => {\n            const serverUsers = await fetchUsers()\n            setUsers(serverUsers)\n        }\n        getUsers()\n    }, [])\n    const fetchUsers = async() => {\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/users\")\n        const data = await res.json()\n        return data\n    }\n\n    const updateUserStatusInput = (e) => {\n        setTempUserStatus(e.target.value)\n    }\n    const updateStatusFromInput = (e) => {\n        setUserStatus(tempUserStatus)\n        localStorage.setItem(\"userStatus\", tempUserStatus)\n        setTempUserStatus(\"\")\n    }\n    const collectInput = () => {\n        let postToBeAdded = {\n            // userId: 1  ,\n            id: 110   ,\n            // title: '1'   ,\n            body: postText\n        }\n        let modified = posts\n        addToPosts([...modified, postToBeAdded])\n        setPostText(\"\")\n    }\n\n    return (\n        <div className=\"common\">\n            <div className=\"commonWrapper\">\n                <div className=\"commonTop\">\n                    <img className=\"commonProfilePicture\" src=\"/assets/profile_pic_1.jpg\" alt=\"\" />\n                    <input placeholder={usersArr[0] && usersArr !== []? usersArr[0].company.catchPhrase : \"hi\"} type=\"text\" value={tempUserStatus} className=\"commonInput\" onChange={updateUserStatusInput}/>\n                    <span className=\"commonUserStatus\">{userStatus}</span>\n                    <input className=\"statusUpdateBtn\" type=\"button\" value=\"Update Status\" onClick={updateStatusFromInput} />\n                </div>\n                <hr className=\"commonHr\"/>\n                <div className=\"commonBottom\">\n                    <div className=\"commonOptions\">\n                        <Photo htmlColor=\"#26a7de\" className=\"commonIcon\"/>\n                        <span className=\"commonOptionText\">Add Photo?</span>\n                        <input className=\"commonAddImage\" type=\"file\"/>\n                    </div>\n\n                </div>\n\n                <div className=\"commonNewPost\">\n                    <div className=\"commonNewText\">\n                            <textarea className=\"commonNewTextInput\" type=\"text\" id=\"userTextInput\" value={postText} onChange={handleUserInput}/>\n                            <div className=\"commonPostButtons\">\n                                <IconButton onClick={collectInput}>\n                                    <Publish className=\"commonNewTextSubmitButton\"/>\n                                </IconButton>\n                                <span className=\"commonNewTextSubmitButtonDesc\">Post</span>\n                                <IconButton onClick={clearUserInput}>\n                                    <Backspace className=\"commonNewTextDeleteButton\" />\n                                </IconButton>\n                                <span className=\"commonNewTextDeleteButtonDesc\">Clear</span>\n                                {/* <button type=\"submit\" className=\"commonNewTextSubmitButton\">Submit</button> */}\n                                {/* <button type=\"button\" className=\"commonNewTextDeleteButton\" >Clear</button> */}\n                            </div>\n                            \n                    </div>\n                </div>\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Common\n"]},"metadata":{},"sourceType":"module"}