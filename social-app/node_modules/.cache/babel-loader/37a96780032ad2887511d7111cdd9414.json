{"ast":null,"code":"var _jsxFileName = \"/Users/mikey/social-app/src/pages/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./home.css\";\nimport Feed from '../../components/feed/Feed';\nimport Rightbar from '../../components/rightbar/Rightbar';\nimport Sidebar from '../../components/sidebar/Sidebar';\nimport Topbar from '../../components/topbar/Topbar';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const tempArrForInitialState = new Array(100);\n\n  if (localStorage.getItem(\"friends\")) {\n    let friendsStr = localStorage.getItem(\"friends\");\n    console.log(`I'm at Home.js retrieving localStorage(\"friends\") ${friendsStr}`); // TODO: set tempArrForInitialState from this friendsStr\n\n    let friendsArrFromLocalStore = friendsStr.split(',');\n\n    for (var i = 0; i < friendsArrFromLocalStore.length; i++) {\n      tempArrForInitialState[i] = friendsArrFromLocalStore[i];\n    }\n  }\n\n  const [friendsArr, setFriends] = useState(tempArrForInitialState);\n  console.log(`I'm at Home.js logging friendsArr ${friendsArr}`); // Fetch users from dummy server\n\n  useEffect(() => {\n    const getFriends = async () => {\n      const serverFriends = await fetchFriends(); // console.log(serverFriends)\n\n      setFriends(serverFriends);\n    };\n\n    getFriends();\n  }, []);\n\n  const fetchFriends = async () => {\n    const res = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n    const data = await res.json();\n    return data;\n  };\n\n  const deleteFriendFromList = e => {\n    let temp = friendsArr.filter(friend => friend.id != e.currentTarget.name);\n    console.log(`I'm at Home.js deleting friend ${e.currentTarget.name}!`); // Update friends at localStorage\n\n    let temp2 = friendsArr.map(friend => friend.id);\n    temp2.filter(friend => friend.id != e.currentTarget.name);\n    localStorage.setItem(\"friends\", temp2);\n    setFriends(temp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Topbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        currUser: props.currUser,\n        friends: friendsArr,\n        deleteFriendFromList: deleteFriendFromList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Feed, {\n        currUser: props.currUser,\n        friends: friendsArr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Rightbar, {\n        currUser: props.currUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"Li3fY3RFxIYu1qRqQkTIFLLvQJQ=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/mikey/social-app/src/pages/home/Home.js"],"names":["React","Feed","Rightbar","Sidebar","Topbar","useEffect","useState","Home","props","tempArrForInitialState","Array","localStorage","getItem","friendsStr","console","log","friendsArrFromLocalStore","split","i","length","friendsArr","setFriends","getFriends","serverFriends","fetchFriends","res","fetch","data","json","deleteFriendFromList","e","temp","filter","friend","id","currentTarget","name","temp2","map","setItem","currUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport \"./home.css\"\nimport Feed from '../../components/feed/Feed'\nimport Rightbar from '../../components/rightbar/Rightbar'\nimport Sidebar from '../../components/sidebar/Sidebar'\nimport Topbar from '../../components/topbar/Topbar'\nimport { useEffect } from 'react'\nimport { useState } from 'react'\n\nconst Home = (props) => {\n\n    const tempArrForInitialState = new Array(100)\n    if (localStorage.getItem(\"friends\")){\n        let friendsStr = localStorage.getItem(\"friends\")\n        console.log(`I'm at Home.js retrieving localStorage(\"friends\") ${friendsStr}`)\n        // TODO: set tempArrForInitialState from this friendsStr\n        let friendsArrFromLocalStore = friendsStr.split(',')\n        for(var i = 0; i < friendsArrFromLocalStore.length; i++){\n            tempArrForInitialState[i] = friendsArrFromLocalStore[i]\n        }\n    }\n    const [friendsArr, setFriends] = useState(tempArrForInitialState)\n    console.log(`I'm at Home.js logging friendsArr ${friendsArr}`)\n    // Fetch users from dummy server\n    useEffect(() => {\n        const getFriends = async () => {\n            const serverFriends = await fetchFriends()\n            // console.log(serverFriends)\n            setFriends(serverFriends)\n        }\n        getFriends()\n    }, [])\n    const fetchFriends = async() => {\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/users\")\n        const data = await res.json()\n        return data\n    }\n\n    const deleteFriendFromList = (e) => {\n        let temp = friendsArr.filter( (friend) => friend.id != e.currentTarget.name)\n        console.log(`I'm at Home.js deleting friend ${e.currentTarget.name}!`)\n        \n        // Update friends at localStorage\n        let temp2 = friendsArr.map((friend)=>(friend.id))\n        temp2.filter((friend) => friend.id != e.currentTarget.name)\n        localStorage.setItem(\"friends\", temp2)\n        \n        setFriends(temp)\n    }\n\n    return (\n        <>\n            <Topbar />\n            <div className=\"homeContainer\">\n                <Sidebar currUser={props.currUser} friends={friendsArr} deleteFriendFromList={deleteFriendFromList}/>\n                <Feed currUser={props.currUser} friends={friendsArr}/>\n                <Rightbar currUser={props.currUser}/>\n            </div>\n        </>\n    )\n}\nexport default Home\n"]},"metadata":{},"sourceType":"module"}