{"ast":null,"code":"var _jsxFileName = \"/Users/mikey/social-app/src/pages/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./home.css\";\nimport Feed from '../../components/feed/Feed';\nimport Rightbar from '../../components/rightbar/Rightbar';\nimport Sidebar from '../../components/sidebar/Sidebar';\nimport Topbar from '../../components/topbar/Topbar';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const tempArrForInitialState = new Array(20);\n  const [friendsArr, setFriends] = useState(tempArrForInitialState); // Fetch users from dummy server\n\n  useEffect(() => {\n    const getFriends = async () => {\n      let serverFriends = await fetchFriends();\n\n      if (localStorage.getItem(\"friends\")) {\n        console.log(localStorage);\n        let updatedFriends = localStorage.getItem(\"friends\").split(',');\n        updatedFriends = updatedFriends.map(n => parseInt(n));\n        console.log(updatedFriends);\n        serverFriends = serverFriends.filter(f => updatedFriends.includes(f.id));\n      }\n\n      localStorage.setItem(\"allFriends\", serverFriends);\n      setFriends(serverFriends);\n      let friendsIdList = serverFriends.map(f => f.id);\n      console.log(friendsIdList);\n      localStorage.setItem(\"friends\", friendsIdList);\n      console.log(localStorage);\n    };\n\n    getFriends();\n  }, []);\n\n  const fetchFriends = async () => {\n    const res = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n    const data = await res.json();\n    return data;\n  };\n\n  const deleteFriendFromList = e => {\n    let temp = friendsArr.filter(friend => friend.id != e.currentTarget.name);\n    console.log(`I'm at Home.js deleting friend ${e.currentTarget.name}!`); // Update friends at localStorage\n\n    let temp2 = friendsArr.map(friend => friend.id);\n    console.log(temp2);\n    temp2 = temp2.filter(f => f != e.currentTarget.name);\n    console.log(temp2);\n    localStorage.setItem(\"friends\", temp2);\n    console.log(localStorage);\n    setFriends(temp);\n  };\n\n  const restoreFriends = idArr => {\n    let idObjArr = idArr.map(id => ({\n      \"userId\": id,\n      \"id\": id\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Topbar, {\n      currUser: props.currUser,\n      updateCurrUser: props.updateCurrUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        currUser: props.currUser,\n        friends: friendsArr,\n        deleteFriendFromList: deleteFriendFromList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Feed, {\n        currUser: props.currUser,\n        friends: friendsArr,\n        restoreFriends: restoreFriends\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Rightbar, {\n        currUser: props.currUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"Li3fY3RFxIYu1qRqQkTIFLLvQJQ=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/mikey/social-app/src/pages/home/Home.js"],"names":["React","Feed","Rightbar","Sidebar","Topbar","useEffect","useState","Home","props","tempArrForInitialState","Array","friendsArr","setFriends","getFriends","serverFriends","fetchFriends","localStorage","getItem","console","log","updatedFriends","split","map","n","parseInt","filter","f","includes","id","setItem","friendsIdList","res","fetch","data","json","deleteFriendFromList","e","temp","friend","currentTarget","name","temp2","restoreFriends","idArr","idObjArr","currUser","updateCurrUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport \"./home.css\"\nimport Feed from '../../components/feed/Feed'\nimport Rightbar from '../../components/rightbar/Rightbar'\nimport Sidebar from '../../components/sidebar/Sidebar'\nimport Topbar from '../../components/topbar/Topbar'\nimport { useEffect } from 'react'\nimport { useState } from 'react'\n\nconst Home = (props) => {\n\n    const tempArrForInitialState = new Array(20)\n    const [friendsArr, setFriends] = useState(tempArrForInitialState)\n    // Fetch users from dummy server\n    useEffect(() => {\n        const getFriends = async () => {\n            let serverFriends = await fetchFriends()\n            if(localStorage.getItem(\"friends\")){\n                console.log(localStorage)\n                let updatedFriends = localStorage.getItem(\"friends\").split(',')\n                updatedFriends = updatedFriends.map((n)=>(parseInt(n)))\n                console.log(updatedFriends)\n                serverFriends = serverFriends.filter(f => updatedFriends.includes(f.id))\n            }\n            \n            localStorage.setItem(\"allFriends\", serverFriends)\n            setFriends(serverFriends)\n            let friendsIdList = serverFriends.map((f)=>(f.id))\n            console.log(friendsIdList)\n            localStorage.setItem(\"friends\", friendsIdList)\n            console.log(localStorage)\n        }\n        getFriends()\n    }, [])\n    const fetchFriends = async() => {\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/users\")\n        const data = await res.json()\n        return data\n    }\n\n    const deleteFriendFromList = (e) => {\n        let temp = friendsArr.filter( (friend) => friend.id != e.currentTarget.name)\n        console.log(`I'm at Home.js deleting friend ${e.currentTarget.name}!`)\n        \n        // Update friends at localStorage\n        let temp2 = friendsArr.map((friend)=>(friend.id))\n        console.log(temp2)\n        temp2 = temp2.filter((f) => f != e.currentTarget.name)\n        console.log(temp2)\n        localStorage.setItem(\"friends\", temp2)\n        console.log(localStorage)\n        setFriends(temp)\n    }\n\n    const restoreFriends = (idArr) => {\n        let idObjArr = idArr.map((id) => ({\"userId\": id, \"id\": id}))\n        \n    }\n\n    return (\n        <>\n            <Topbar currUser={props.currUser} updateCurrUser={props.updateCurrUser}/>\n            <div className=\"homeContainer\">\n                <Sidebar currUser={props.currUser} friends={friendsArr} deleteFriendFromList={deleteFriendFromList}/>\n                <Feed currUser={props.currUser} friends={friendsArr} restoreFriends={restoreFriends}/>\n                <Rightbar currUser={props.currUser}/>\n            </div>\n        </>\n    )\n}\nexport default Home\n"]},"metadata":{},"sourceType":"module"}